<div class="home pt-8 items-center ml-60 p-4 h-screen">
  <%= render partial: "documentation/navigation" %>
    <div class="d-flex" style= "margin-top:100px">

  <section class="max-w-[800px] self-start flex flex-col">
      <h1 class="text-3xl font-bold mb-4">Cars Endpoints</h1>

<div class="container mt-5">
  <h2 class="text-xl font-bold mb-2">GET api/v1/cars</h2>
  <p class="px-4 py-2">Returns a list of all cars.</p>

  <div class="px-4 pt-6">
    <h3 class="text-2xl font-bold mb-2">Response</h3>
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th class="px-4 py-2">Status Code</th>
            <th class="px-4 py-2">Response Body</th>
            <th class="px-4 py-2">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="border px-4 py-2"><code>200</code></td>
            <td class="border px-4 py-2 font-weight-bold text-sm">
              <code>
   {
        "id": 1,
        "name": " Toyota Cramy",
        "description": "sedan car",
        "photo": "https://content-images.carmax.com/qeontfmijmzv/25NcA62ks4WtOMUJlvsW9x/77ace1ff19f51d1968a363b1515c4af6/acura.jpg",
        "price_per_day": "20.0",
        "car_model": "2000",
        "user_id": 1,
        "created_at": "2023-04-05T10:02:57.205Z",
        "updated_at": "2023-04-05T10:02:57.205Z"
    },
    {
        "id": 2,
        "name": "Honda Civic",
        "description": "Compact car ",
        "photo": "https://images.clickdealer.co.uk/vehicles/4759/4759877/full/108663623.jpg",
        "price_per_day": "20.0",
        "car_model": "Civic 2022", 
        "user_id": 1,
        "created_at": "2023-04-11T09:01:11.921Z",
        "updated_at": "2023-04-11T09:01:11.921Z"
    }, 
        <br>
    <br>
    {
        "id": 3,
        "name": "Honda Civic",
        "description": "Compact car ",
        "photo": "https://images.clickdealer.co.uk/vehicles/4759/4759877/full/108663623.jpg",
        "price_per_day": "20.0",
        "car_model": "Civic 2022", 
        "user_id" : 2,
        "created_at": "2023-04-12T03:49:20.888Z",
        "updated_at": "2023-04-12T03:49:20.888Z"
    },
    <br>
    <br>
    {
        "id": 4,
        "name": "Honda Civic",
        "description": "Compact car ",
        "photo": "https://images.clickdealer.co.uk/vehicles/4759/4759877/full/108663623.jpg",
        "price_per_day": "20.0",
        "car_model": "Civic 2022", 
        "user_id" : 2,
        "created_at": "2023-04-13T03:47:03.631Z",
        "updated_at": "2023-04-13T03:47:03.631Z"
    }
              </code>
            </td>
            <td class="border px-4 py-2">A list of all cars in the database</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="px-4 pt-6">
    <h3 class="text-2xl font-bold mb-2">Example Request</h3>
    <div class="card bg-dark border-0 rounded-xl mx-4 my-6">
      <h3 class="card-header bg-white text-dark font-bold">Ruby</h3>
      <div class="card-body bg-white rounded-xl">
        <pre class="m-0 bg-light">
          <code class="text-sm  max-h-80 m-0">
            require 'net/http'
            require 'json'

            url = URI('http://127.0.0.1:3000/api/v1/cars')

            http = Net::HTTP.new(url.host, url.port)

            request = Net::HTTP::Get.new(url)

            response = http.request(request)

            if response.code == '200'
              data = JSON.parse(response.body)
              puts data
              # handle the response data here
            else
              puts "Error: #{response.code} #{response.message}"
              # handle the error here
            end
          </code>
        </pre>
      </div>
    </div>
  </div>
</div>

<div class="container mx-auto px-4 pt-6">
    <h2 class="text-xl font-bold mb-2">GET api/v1/cars/:id</h2>
    <p class="px-4 py-2">Returns a single car by an ID.</p>
    <div class="px-4 pt-6">
        <h3 class="text-lg font-bold mb-2">Parameters</h3>
    <div class="table-responsive">
      <table class="table">
            <thead>
                <tr>
                    <th class="px-4 py-2">Name</th>
                    <th class="px-4 py-2">Data Type</th>
                    <th class="px-4 py-2">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="border px-4 py-2">id</td>
                    <td class="border px-4 py-2">Integer</td>
                    <td class="border px-4 py-2">ID of the car</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="px-4 pt-6">
        <h3 class="text-lg font-bold mb-2">Response</h3>
        <table class="table-auto w-full">
            <thead>
                <tr>
                    <th class="px-4 py-2">Status Code</th>
                    <th class="px-4 py-2">Response Body</th>
                    <th class="px-4 py-2">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="border px-4 py-2"><code>200</code></td>
                    <td class="border px-4 py-2 font-bold text-sm">
                        <code>
                          {
                                "id": 2,
                                "name": "Honda Civic",
                                "description": "Compact car ",
                                "photo": "https://images.clickdealer.co.uk/vehicles/4759/4759877/full/108663623.jpg",
                                "price_per_day": "20.0",
                                "car_model": "Civic 2022", 
                                "user_id" : 1,
                                "created_at": "2023-04-05T10:02:57.205Z",
                                "updated_at": "2023-04-05T10:02:57.205Z"
                            }
                        </code>
                    </td>
                    <td class="border px-4 py-2">The class of the specific ID</td>
                </tr>
            </tbody>
        </table>
    </div>
  <div class="px-4 pt-6">
    <h3 class="text-2xl font-bold mb-2">Example Request</h3>
    <div class="card bg-dark border-0 rounded-xl mx-4 my-6">
      <h3 class="card-header bg-white text-dark font-bold">Ruby</h3>
      <div class="card-body bg-white rounded-xl">
        <pre class="m-0 bg-light">
          <code class="text-sm  max-h-80 m-0">
                require 'net/http'
                require 'json'

                car_id = 1 # replace with the ID of the car you want to retrieve
                url = URI("http://127.0.0.1:3000/api/v1/cars/#{car_id}")

                http = Net::HTTP.new(url.host, url.port)
                request = Net::HTTP::Get.new(url)

                response = http.request(request)

                if response.code == '200'
                  data = JSON.parse(response.body)
                  # handle the response data here
                  puts data
                else
                  puts "Error: #{response.code} #{response.message}"
                  # handle the error here
                end

          </code>
        </pre>
      </div>
    </div>
  </div>
  </div>
</div>

<div class="container mx-auto px-4 pt-6">
    <h2 class="text-xl font-bold mb-2">POST /cars</h2>
    <p class="px-4 py-2">Creates a new  car in the database.</p>
    <div class="px-4 pt-6">
        <h3 class="text-lg font-bold mb-2">Parameters</h3>
    <div class="table-responsive">
      <table class="table table-striped">
            <thead>
                <tr>
                    <th class="px-4 py-2">Name</th>
                    <th class="px-4 py-2">Data Type</th>
                    <th class="px-4 py-2">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="border px-4 py-2">name</td>
                    <td class="border px-4 py-2">String</td>
                    <td class="border px-4 py-2">The name of the new car</td>
                </tr>
                                <tr>
                    <td class="border px-4 py-2">photo</td>
                    <td class="border px-4 py-2">String</td>
                    <td class="border px-4 py-2">The link of the image</td>
                </tr>
                                <tr>
                    <td class="border px-4 py-2">description</td>
                    <td class="border px-4 py-2">String</td>
                    <td class="border px-4 py-2">The description of the new class</td>
                </tr>
                    
                                <tr>
                    <td class="border px-4 py-2">price_per_day</td>
                    <td class="border px-4 py-2">Integer</td>
                    <td class="border px-4 py-2">The price of the new cars</td>
                </tr>
                                </tr>
                                <tr>
                    <td class="border px-4 py-2">car_model</td>
                    <td class="border px-4 py-2">String</td>
                    <td class="border px-4 py-2">The car model</td>
                </tr>
                                </tr>
                                <tr>
                    <td class="border px-4 py-2">owner</td>
                    <td class="border px-4 py-2">String</td>
                    <td class="border px-4 py-2">User that carete the Car</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="px-4 pt-6">
        <h3 class="text-lg font-bold mb-2">Response</h3>
        <table class="table-auto w-full">
            <thead>
                <tr>
                    <th class="px-4 py-2">Status Code</th>
                    <th class="px-4 py-2">Response Body</th>
                    <th class="px-4 py-2">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="border px-4 py-2"><code>201</code></td>
                    <td class="border px-4 py-2 font-bold text-sm">
                        <code>
                          {
                            "id": 5,
                            "name": "Honda Civic",
                            "description": "Compact car ",
                            "photo": "https://images.clickdealer.co.uk/vehicles/4759/4759877/full/108663623.jpg",
                            "price_per_day": "20.0",
                            "car_model": "Civic 2022", 
                            "user_id" : 2,
                            "created_at": "2023-04-13T05:44:32.024Z",
                            "updated_at": "2023-04-13T05:44:32.024Z"
                            }
                        </code>
                    </td>
                    <td class="border px-4 py-2">The newly created Cars</td>
                </tr>
                                <tr>
                    <td class="border px-4 py-2"><code>422</code></td>
                    <td class="border px-4 py-2 font-bold text-sm">
                        <code>
                            {
                                "errors": [
                                    "Name can't be blank",
                                    "Name is too short (minimum is 3 characters)"
                                ]
                            }
                        </code>
                    </td>
                    <td class="border px-4 py-2">Unsuccessful due to validation errors</td>
                </tr>
            </tbody>
        </table>
    </div>
  <div class="px-4 pt-6">
    <h3 class="text-2xl font-bold mb-2">Example Request</h3>
    <div class="card bg-dark border-0 rounded-xl mx-4 my-6">
      <h3 class="card-header bg-white text-dark font-bold">Ruby</h3>
      <div class="card-body bg-white rounded-xl">
        <pre class="m-0 bg-light">
          <code class="text-sm  max-h-80 m-0">
                require 'net/http'
                require 'json'

          require 'net/http'
          require 'json'

          url = URI('https://example.com/users/v1')
          headers = {
          'Authorization' => 'Bearer <DoorKeeper Token>'
            }

            require 'net/http'
            require 'uri'
            require 'json'

            url = URI('http://127.0.0.1:3000/api/v1/cars')
            data = {
              "name": "Honda Civic",
              "description": "Compact car ",
              "photo": "https://images.clickdealer.co.uk/vehicles/4759/4759877/full/108663623.jpg",
              "price_per_day": "20.0",
              "car_model": "Civic 2022", 
              "user_id" : 2,
            }
            headers = {
              'Content-Type' => 'application/json',
              'Authorization' => 'Bearer <Token>'
            }

            http = Net::HTTP.new(url.host, url.port)
            http.use_ssl = true # enable HTTPS if necessary

            request = Net::HTTP::Post.new(url, headers)
            request.body = data.to_json

            response = http.request(request)

            if response.code == '201'
              response_body = JSON.parse(response.body)
              # handle the response data here
            else
              puts "Error: #{response.code} #{response.message}"
              # handle the error here
            end
            

          </code>
        </pre>
      </div>
    </div>
  </div>
  </div>
</div>

<div class="container mx-auto px-4 pt-6">
    <h2 class="text-xl font-bold mb-2">DELETE /cars/:id</h2>
    <p class="px-4 py-2">Deletes a Car  from the database</p>
    <div class="px-4 pt-6">
        <h3 class="text-lg font-bold mb-2">Parameters</h3>
    <div class="table-responsive">
      <table class="table">
            <thead>
                <tr>
                    <th class="px-4 py-2">Name</th>
                    <th class="px-4 py-2">Data Type</th>
                    <th class="px-4 py-2">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="border px-4 py-2">id</td>
                    <td class="border px-4 py-2">Integer</td>
                    <td class="border px-4 py-2">ID of the Car to be deleted</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="px-4 pt-6">
        <h3 class="text-lg font-bold mb-2">Response</h3>
        <table class="table-auto w-full">
            <thead>
                <tr>
                    <th class="px-4 py-2">Status Code</th>
                    <th class="px-4 py-2">Response Body</th>
                    <th class="px-4 py-2">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="border px-4 py-2"><code>200</code></td>
                    <td class="border px-4 py-2 font-bold text-sm">
                        <code>
                            {
                                "message": "Car deleted"
                            }
                        </code>
                    </td>
                    <td class="border px-4 py-2">The specific Car is deleted</td>
                </tr>
                <tr>
                    <td class="border px-4 py-2"><code>404</code></td>
                    <td class="border px-4 py-2 font-bold text-sm">
                        <code>
                            {
                               "status": 404,
                               "error": "Not Found",
                            }
                        </code>
                    </td>
                    <td class="border px-4 py-2">The car with the specified ID could not be found</td>
                </tr>
            </tbody>
        </table>
    </div>
  <div class="px-4 pt-6">
    <h3 class="text-2xl font-bold mb-2">Example Request</h3>
    <div class="card bg-dark border-0 rounded-xl mx-4 my-6">
      <h3 class="card-header bg-white text-dark font-bold">Ruby</h3>
      <div class="card-body bg-white rounded-xl">
        <pre class="m-0 bg-light">
          <code class="text-sm  max-h-80 m-0">
require 'net/http'
          require 'json'

          url = URI('https://example.com/users/v1')
          headers = {
          'Authorization' => 'Bearer <DoorKeeper Token>'
            }

                require 'net/http'

                cars_id = 123 # Replace with the ID of the car you want to delete
                url = URI("http://127.0.0.1:3000/api/v1/cars/#{cars_id}")
                headers = {
                  'Authorization' => 'Bearer Token'
                }

                http = Net::HTTP.new(url.host, url.port)
                http.use_ssl = true # enable HTTPS if necessary

                request = Net::HTTP::Delete.new(url, headers)

                response = http.request(request)

                case response
                when Net::HTTPSuccess
                  puts 'Car deleted successfully'
                  # Do something on success
                when Net::HTTPUnauthorized
                  puts 'Not authenticated'
                  # Handle authentication error
                when Net::HTTPNotFound
                  puts 'Car not found'
                  # Handle car not found error
                else
                  puts "Error deleting car: #{response.code} #{response.message}"
                  # Handle other errors
                end
          </code>
        </pre>
      </div>
    </div>
  </div>
  </div>
</div>
  </section>
  </div>
</div>
